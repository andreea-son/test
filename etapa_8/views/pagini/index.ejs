<!DOCTYPE html>
<html lang="ro">
    <head>
        <%- include("../fragmente/head.ejs"); %>
        <script type="text/javascript" src="/resurse/js/produse_fav.js"></script>
    </head>
    <body>
        <header>
            <%- include("../fragmente/header.ejs"); %>
        </header>
        <main>
            <div id="grid-pagina">
                <div id="despre">
                    <h1 class="heading"><i class="fa-regular fa-circle-question"></i> Cine suntem?</h1>
                    <h2 class="text-dark heading">Daruieste amintiri</h2>
                    <p>Un scurt video despre importanta pretuirii lucrurilor marunte, cum ar fi o floare primita in dar.</p>
                    <video width="560" height="315" poster="/resurse/imagini/diverse/poster.png" controls preload="auto">
                        <source src="/resurse/video/video-flori.mp4" type="video/mp4">
                        <source src="/resurse/video/video-flori.ogv" type="video/ogv">
                        <track default src="/resurse/vtt/caption_ro.vtt" kind="captions" srclang="ro" label="romana">
                        <track src="/resurse/vtt/caption_en.vtt" kind="captions" srclang="en" label="engleza">
                    </video>
                    <h2 class="text-dark heading">Istoricul florariei noastre</h2>
                    <p>Magazinul nostru a luat nastere in anul 1990. Floraria a inceput ca o mica afacere de familie. In timp, pasiunea, traditia si dedicarea au transformat-o intr-o poveste de succes, care continua pana in zilele noastre. In prezent, <b>Buticul cu flori</b> a devenit una dintre cele mai indragite florarii bucurestene, credem noi datoria valorilor care se reflecta in munca noastra de zi cu zi: daruire deplina, entuziasm si dorinta constanta de perfectionare.</p>
                    <div id="container-imagine" style="width: max-content;">
                        <div id="imagine-magazin"></div>
                        <p style="text-align: center;"><em>Primul nostru magazin - din Academiei 14 - la 2 ani de la deschidere</em></p>
                    </div>
                    <h2 class="text-dark heading">Informatii generale</h2>
                    <div class="det-sum">
                        <details>
                            <summary>Ce oferim?</summary>
                            <ul>
                                <li>Livrare <em>oriunde</em> in Bucuresti in 3 ore</li>
                                <li>Livrare gratuita pentru comenzi de minim 200 de lei</li>
                                <li>Felicitare cadou cu mesaj personalizat</li>
                                <li>Posibilitatea plasarii de comenzi anonime</li>
                            </ul>
                        </details>
                    </div>
                    <div class="stilizare-link det-sum">
                        <details>
                            <summary>Unde ne puteti gasi?</summary>
                            <p>Va asteptam cu drag atat online, cat si in magazinele fizice cu o selectie variata de <b>trandafiri criogenati</b>, <b>buchete de flori</b> si <b>aranjamente florale</b> pentru orice ocazie sau eveniment! Mai multe informatii puteti gasi <a href="#contact">aici</a>.</p>
                        </details>
                    </div>
                    <div class="stilizare-link det-sum"> 
                        <details>
                            <summary>Cum puteti comanda?</summary>
                            <p>Comenzile pot fi efectuate atat pe site, cat si telefonic, descarcand catalogul nostru de produse:&ensp;<a role="button" href="resurse/Catalog.pdf" id="buton" class="btn text-light bg-primary active" aria-pressed="true"><i class="fa-solid fa-download"></i> Catalog</a></p>
                        </details>
                    </div>
                </div>
                <div id="calendar">
                    <h1 class="heading"><i class="fa-regular fa-calendar"></i> Calendar de evenimente</h1>
                    <div id="continut_calendar">
                        <div class="div-zi" style="text-align: center;">L</div>
                        <div class="div-zi" style="text-align: center;">Ma</div>
                        <div class="div-zi" style="text-align: center;">Mi</div>
                        <div class="div-zi" style="text-align: center;">J</div>
                        <div class="div-zi" style="text-align: center;">V</div>
                        <div class="div-zi" style="text-align: center;">S</div>
                        <div class="div-zi" style="text-align: center;">D</div>
                    <% 
                        nrZile=[31,28,31,30,31,30,31,31,30,31,30,31];
                        d=new Date();
                        anCurent=d.getFullYear();
                        lunaCurenta=d.getMonth();
                        if(anCurent%400==0 || (anCurent%4==0 && anCurent%100!=0)) 
                            nrZile[1]=29;
                        let nrZileCalendar=nrZile[lunaCurenta]
                        primaZiLuna=new Date(anCurent, lunaCurenta, 1);
                        ultimaZiLuna=new Date(anCurent, lunaCurenta, nrZileCalendar);
                        ziSaptPrimaZiLuna=(primaZiLuna.getDay()-1+7)%7;
                        ziSaptUltimaZiLuna=(ultimaZiLuna.getDay()-1+7)%7;
                        let zileRamase = 6 - ziSaptUltimaZiLuna;
                        for (let i=0;i<ziSaptPrimaZiLuna;i++){
                    %>
                        <div class="div-gol"></div> 
                    <%  }
                        let obiectEvenimente = null;
                        for (let i=1;i<=nrZileCalendar;i++){
                            if(i == 1){
                                obiectEvenimente = "Oferta lunii";
                            }
                            else if(i == 10){
                                obiectEvenimente = "Tombola lunara";
                            }
                            else if(i == 15){
                                obiectEvenimente = "15% Discount";
                            }
                            else if(i == 13 && (((ziSaptPrimaZiLuna + i) % 7) == 2 || ((ziSaptPrimaZiLuna + i) % 7) == 5)){
                                obiectEvenimente = "Schimbam ghinionul in noroc"
                            }
                            else if((i == (nrZileCalendar - ziSaptUltimaZiLuna)) || (i == (nrZileCalendar - ziSaptUltimaZiLuna + 1)))
                            {
                                obiectEvenimente = "Reduceri finale";
                            }
                            else{
                                obiectEvenimente = null;
                            }
                            if(obiectEvenimente){
                    %>
                            <div class="zi eveniment" title="<%= obiectEvenimente %>"><b><%= i %></b> <small style="display: block;"><%= obiectEvenimente %></small></div> 
                    <% 
                            } else {
                    %>
                            <div class="zi"><b><%= i %></b> <small style="display: block;">Niciun eveniment</small></div> 
                    <%      
                            }
                        } 
                        for (let i=1;i<=zileRamase;i++) {
                    %>
                        <div class="div-gol"></div> 
                    <%      
                        } 
                    %>
                    </div>
                </div>
                <div id="orar">
                    <h1 class="heading"><i class="fa-regular fa-clock"></i> Orarul magazinelor noastre</h1>
                    <table>
                        <caption>De asemenea, ne puteti contacta si pe pagina de <a target="_blank" href="https://www.facebook.com/profile.php?id=100037623483651">facebook</a> a florariei!</caption>
                        <thead>
                            <tr>
                                <th>Magazin</th>
                                <th>Contact</th>
                                <th>Manager</th>
                                <th>Program</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Calea Mosilor nr.133</td>
                                <td>+40721954672</td>
                                <td>Andrei Ursu</td>
                                <td rowspan="3">Lu-Vi: 7:00-22:00<br>Sa-Du: 10:00-21:00</td>
                            </tr>
                            <tr>
                                <td>Sisesti nr.201</td>
                                <td>+40731080842</td>
                                <td>Lucia Popescu</td>
                            </tr>
                            <tr>
                                <td>Kiseleff nr.17B</td>
                                <td>+40736933321</td>
                                <td>David Gheorghiu</td>
                            </tr> 
                            <tr>
                                <td>Academiei nr.14</td>
                                <td>+40712345678</td>
                                <td>Claudia Tunaru</td>
                                <td>Lu-Du: Non Stop</td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr>
                                <td colspan="4"> Contact telefonic si program pentru magazinele noastre</td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
                <div id="anunturi">
                    <h1 class="heading"><i class="fa-regular fa-star"></i> Anunturi</h1>
                    <p>Nu exista anunturi in prezent!</p>
                </div>
                <div id="lista-utilizatori">
                    <h1 class="heading"><i class="fa-solid fa-clipboard-list"></i> Lista de utilizatori online</h1>
                    <ol>
                        <% 
                        console.log("utilizatori", locals.useriOnline) 
                        for(let u of locals.useriOnline) {
                            
                        %>
                            <li><%- u.username %> - <%- u.prenume %> <%- u.nume %></li>
                        <% } %>
                    </ol>
                </div>
                <div id="utilizator-statistici">
                    <h1 class="heading"><i class="fa-solid fa-chart-pie"></i> Date utilizator si statistici</h1>
                    <p>IP-ul utilizatorului curent: <%- locals.ip %></p>
                    <p id="p-ult-prod" class="stilizare-link">Ultimul produs accesat: <a id="ultimul-produs"></a></p>
                </div>
                <div id="site-server">
                    <h1 class="heading"><i class="fa-solid fa-table"></i> Date site si server</h1>
                    <%
                        dataServer=new Date();
                        sirData=dataServer.getHours()+":"+dataServer.getMinutes()+":"+dataServer.getSeconds()
                    %>
                        <p>Ora locala server:<span id="data_server"><%= sirData %></span></p>
                        <p>Ora dumneavoastra:<span id="data_client"></span></p>
                        <script>
                            function zero(nr){
                                if (nr<10) return "0"+nr;
                                return nr;
                            }
                            
                            d=new Date()
                            document.getElementById("data_client").innerHTML=zero(d.getHours())+":"+zero(d.getMinutes())+":"+zero(d.getSeconds());
                    
                            function actualizeazaElemData(id_div){
                                var data_div=document.getElementById(id_div);
                                if (data_div.innerHTML!="")
                                {
                                    var timp=data_div.innerHTML.split(":")
                                    var dt=new Date(2000,1,15, timp[0],timp[1], timp[2] );
                                }
                                else
                                    var dt=new Date();
                                dt.setSeconds(dt.getSeconds()+1)
                                data_div.innerHTML=zero(dt.getHours())+":"+zero(dt.getMinutes())+":"+zero(dt.getSeconds());
                            }
                            function actualizeazaData(){
                                actualizeazaElemData("data_client");
                                actualizeazaElemData("data_server");
                            }
                            actualizeazaData()
                            setInterval(actualizeazaData,1000)
                        </script>
                </div>
                <div id="zona">
                    <div id="favorite">
                        <h1 class="heading"><i class="fa-regular fa-heart"></i> Favorite de sezon</h1>
                        <%  var d=new Date();
                            var luna_curenta=d.getMonth();
                            if (luna_curenta == 11 || luna_curenta == 0 || luna_curenta == 1) 
                            {
                        %>  
                            <section>
                                <div style="margin-bottom: 10px">
                                    <div class="text">Iarna<div class="text-reflectat">Iarna</div></div>
                                    <div class="paragraf"> este anotimpul cel mai potrivit pentru a darui, de aceea avem pentru tine o selectie de buchete festive, pentru a oferi cadouri de neuitat.</div>
                                </div>
                                <section id="produse">
                                    <div class="grid-produse">
                                    <% for(let prod of locals.produse) { 
                                        if(prod.id == 24 || prod.id == 17) {
                                    %>
                                        <article class="produs" id="art-<%-prod.id%>">
                                            <h2 class="nume">Nume: <a href="/produs/<%-prod.id %>" ><span class="val-nume"><%- prod.nume%></span></a></h2>
                                            <div>
                                                <figure>
                                                    <a href="/produs/<%-prod.id %>"><img src="/resurse/imagini/produse/<%- prod.imagine %>" style="width:75%;height:auto;" alt="[imagine <%- prod.nume %>]"></a>
                                                </figure>
                                                <p class="categorie">Ocazie: <span class="val-categorie"><%- prod.ocazie%></span></p>
                                                <p class="descriere">Descriere: <span class="val-descriere"><%- prod.descriere%></span></p>
                                                <p class="detalii">Detalii produs:</p>
                                                <ul class="info-prod">
                                                    <li>Pret: <span class="val-pret"><%- prod.pret%></span> ron</li>
                                                    <li>Numar fire: <span class="val-fire"><%- prod.num_fire%></span></li>
                                                    <li>Culoare: <span class="val-culoare"><%- prod.culoare%></span></li>
                                                    <li>Flori: <span class="val-flori"><%- prod.flori_continute%></span></li>
                                                    <li>Data adaugarii: <time class="val-data"><%- prod.data_adaugare%></time></li>
                                                    <li>Ridicare personala: <span class="val-livrare"><%- prod.ridicare_personala%></span></li>
                                                </ul>
                                            </div>   
                                        </article> 
                                        <% } %>
                                    <% } %>
                                    </div>
                                </section>
                            </section>
                        <%
                            }
                            if (luna_curenta == 2 || luna_curenta == 3 || luna_curenta == 4) 
                            {
                        %>
                            <section>
                                <div style="margin-bottom: 10px">
                                    <div class="text">Primavara<div class="text-reflectat">Primavara</div></div>
                                    <div class="paragraf"> este anotimpul iubirii, asa ca ti-am pregatit o varietate de buchete de flori atent alease pentru a le darui celor dragi tie.</div>
                                </div>
                                <section id="produse">
                                    <div class="grid-produse">
                                    <% for(let prod of locals.produse) { 
                                        if(prod.id == 13 || prod.id == 3) {
                                    %>
                                        <article class="produs" id="art-<%-prod.id%>">
                                            <h2 class="nume">Nume: <a href="/produs/<%-prod.id %>" ><span class="val-nume"><%- prod.nume%></span></a></h2>
                                            <div>
                                                <figure>
                                                    <a href="/produs/<%-prod.id %>"><img src="/resurse/imagini/produse/<%- prod.imagine %>" style="width:75%;height:auto;" alt="[imagine <%- prod.nume %>]"></a>
                                                </figure>
                                                <p class="categorie">Ocazie: <span class="val-categorie"><%- prod.ocazie%></span></p>
                                                <p class="descriere">Descriere: <span class="val-descriere"><%- prod.descriere%></span></p>
                                                <p class="detalii">Detalii produs:</p>
                                                <ul class="info-prod">
                                                    <li>Pret: <span class="val-pret"><%- prod.pret%></span> ron</li>
                                                    <li>Numar fire: <span class="val-fire"><%- prod.num_fire%></span></li>
                                                    <li>Culoare: <span class="val-culoare"><%- prod.culoare%></span></li>
                                                    <li>Flori: <span class="val-flori"><%- prod.flori_continute%></span></li>
                                                    <li>Data adaugarii: <time class="val-data"><%- prod.data_adaugare%></time></li>
                                                    <li>Ridicare personala: <span class="val-livrare"><%- prod.ridicare_personala%></span></li>
                                                </ul>
                                            </div>   
                                        </article> 
                                        <% } %>
                                    <% } %>
                                    </div>
                                </section>
                            </section>
                        <%
                            } 
                            if (luna_curenta == 5 || luna_curenta == 6 || luna_curenta == 7) 
                            {
                        %>
                            <section>
                                <div style="margin-bottom: 10px">
                                    <div class="text">Vara<div class="text-reflectat">Vara</div></div>
                                    <div class="paragraf"> aceasta iti oferim o selectie de buchete incarcate cu parfumul delicat al florilor de camp.</div>
                                </div>
                                <section id="produse">
                                    <div class="grid-produse">
                                    <% for(let prod of locals.produse) { 
                                        if(prod.id == 18 || prod.id == 19) {
                                    %>
                                        <article class="produs" id="art-<%-prod.id%>">
                                            <h2 class="nume">Nume: <a href="/produs/<%-prod.id %>" ><span class="val-nume"><%- prod.nume%></span></a></h2>
                                            <div>
                                                <figure>
                                                    <a href="/produs/<%-prod.id %>"><img src="/resurse/imagini/produse/<%- prod.imagine %>" style="width:75%;height:auto;" alt="[imagine <%- prod.nume %>]"></a>
                                                </figure>
                                                <p class="categorie">Ocazie: <span class="val-categorie"><%- prod.ocazie%></span></p>
                                                <p class="descriere">Descriere: <span class="val-descriere"><%- prod.descriere%></span></p>
                                                <p class="detalii">Detalii produs:</p>
                                                <ul class="info-prod">
                                                    <li>Pret: <span class="val-pret"><%- prod.pret%></span> ron</li>
                                                    <li>Numar fire: <span class="val-fire"><%- prod.num_fire%></span></li>
                                                    <li>Culoare: <span class="val-culoare"><%- prod.culoare%></span></li>
                                                    <li>Flori: <span class="val-flori"><%- prod.flori_continute%></span></li>
                                                    <li>Data adaugarii: <time class="val-data"><%- prod.data_adaugare%></time></li>
                                                    <li>Ridicare personala: <span class="val-livrare"><%- prod.ridicare_personala%></span></li>
                                                </ul>
                                            </div>   
                                        </article> 
                                        <% } %>
                                    <% } %>
                                    </div>
                                </section>
                            </section>
                        <%
                            } 
                            if (luna_curenta == 8 || luna_curenta == 9 || luna_curenta == 10) 
                            {
                        %>
                            <section>
                                <div style="margin-bottom: 10px">
                                    <div class="text">Toamna<div class="text-reflectat">Toamna</div></div>
                                    <div class="paragraf"> aceasta nuantele aramii si tonurile calde se regasesc in buchetele noastre dedicate anotimpului descatusarii culorilor.</div>
                                </div>
                                <section id="produse">
                                    <div class="grid-produse">
                                    <% for(let prod of locals.produse) { 
                                        if(prod.id == 22 || prod.id == 23) {
                                    %>
                                        <article class="produs" id="art-<%-prod.id%>">
                                            <h2 class="nume">Nume: <a href="/produs/<%-prod.id %>" ><span class="val-nume"><%- prod.nume%></span></a></h2>
                                            <div>
                                                <figure>
                                                    <a href="/produs/<%-prod.id %>"><img src="/resurse/imagini/produse/<%- prod.imagine %>" style="width:75%;height:auto;" alt="[imagine <%- prod.nume %>]"></a>
                                                </figure>
                                                <p class="categorie">Ocazie: <span class="val-categorie"><%- prod.ocazie%></span></p>
                                                <p class="descriere">Descriere: <span class="val-descriere"><%- prod.descriere%></span></p>
                                                <p class="detalii">Detalii produs:</p>
                                                <ul class="info-prod">
                                                    <li>Pret: <span class="val-pret"><%- prod.pret%></span> ron</li>
                                                    <li>Numar fire: <span class="val-fire"><%- prod.num_fire%></span></li>
                                                    <li>Culoare: <span class="val-culoare"><%- prod.culoare%></span></li>
                                                    <li>Flori: <span class="val-flori"><%- prod.flori_continute%></span></li>
                                                    <li>Data adaugarii: <time class="val-data"><%- prod.data_adaugare%></time></li>
                                                    <li>Ridicare personala: <span class="val-livrare"><%- prod.ridicare_personala%></span></li>
                                                </ul>
                                            </div>   
                                        </article> 
                                        <% } %>
                                    <% } %>
                                    </div>
                                </section>
                            </section>
                        <%
                            } 
                        %>
                    </div>
                    <div id="inspiratie">
                        <%- include("../fragmente/galerie-statica.ejs"); %>
                    </div>
                    <div id="recomandari">
                        <h1 class="heading"><i class="fa-regular fa-thumbs-up"></i> Recomandari</h1>
                        <p>V-am pregatit cateva recomandari video care va pot ajuta in alegerea buchetelor de flori pentru diferite ocazii sau evenimente.</p>
                        <div id="stilizare-ifr">
                            <iframe name="ifr-video" width="560" height="315" src="https://www.youtube.com/embed/8EMHiGKQa64" title="YouTube video player" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                            <div id="stilizare-link-ifr">
                                <div class="tab1"></div>
                                <a target="ifr-video" class="tab1" href="https://www.youtube.com/embed/8EMHiGKQa64"><div>Nunta</div></a>
                                <div class="tab2"></div>
                                <a target="ifr-video" class="tab2" href="https://www.youtube.com/embed/50Whog9cZw8"><div>Diverse</div></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <%- include("../fragmente/link-top.ejs"); %>
        </main>
        <footer>
            <%- include("../fragmente/footer.ejs"); %>
        </footer>
    </body>
</html>